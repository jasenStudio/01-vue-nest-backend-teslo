import{_ as h,g as d}from"./get-products.action-BtFGHB_p.js";import{u as y,e as g,w as b,d as w,f as v,k as q,c as i,o as c,a as e,h as m,F as x,r as k,n as C,l as N,m as T,t as u,i as a}from"./index-ImhZfwQF.js";import{u as F,a as P}from"./get-product-image.actions-D7NrJ-gJ.js";const V=()=>{const r=y(),o=g(Number(r.query.page||1));return b(()=>r.query.page,t=>{o.value=Number(t||1),window.scrollTo({top:0,behavior:"smooth"})}),{page:o}},B={class:"bg-white px-5 py-2 rounded"},Q={class:"py-8 w-full"},j={class:"shadow overflow-hidden rounded border-b border-gray-200"},z={class:"min-w-full bg-white"},E={class:"text-gray-700"},K={class:"text-left py-3 px-4"},$=["src","alt"],A={class:"text-left py-3 px-4"},D={class:"text-left py-3 px-4"},I={class:"bg-blue-200 text-blue-500 py-1 px-3 rounded-full text-xs"},L={class:"text-left py-3 px-4"},J=w({__name:"ProductsView",setup(r){const o=F(),{page:t}=V(),{data:n=[]}=P({queryKey:["products",{page:t}],queryFn:()=>d(t.value),staleTime:1e3*60});return v(()=>{o.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>d(t.value+1)})}),(R,l)=>{var p;const _=q("router-link");return c(),i(x,null,[e("div",B,[l[1]||(l[1]=e("h1",{class:"text-3xl"},"Productos",-1)),e("div",Q,[e("div",j,[e("table",z,[l[0]||(l[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"Titulo"),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"},"precio"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1)),e("tbody",E,[(c(!0),i(x,null,k(a(n),(s,f)=>(c(),i("tr",{key:s.id,class:C({"bg-gray-100":f%2===0})},[e("td",K,[e("img",{src:s.images[0],alt:s.title,class:"w-10 h-10 object-cover"},null,8,$)]),e("td",A,[m(_,{to:`/admin/products/${s.id}`,class:"hover:text-blue-500 hover:underline"},{default:N(()=>[T(u(s.title),1)]),_:2},1032,["to"])]),e("td",D,[e("span",I,u(s.price),1)]),e("td",L,u(s.sizes.join(", ")),1)],2))),128))])])])])]),m(h,{"is-first-page":a(t)===1,page:a(t),"has-more-pages":!!a(n)&&((p=a(n))==null?void 0:p.length)<10},null,8,["is-first-page","page","has-more-pages"])],64)}}});export{J as default};
